4/17/2018

- implement: ".get\_gdsdata\_isarray", extract objdesp.gdsn(f,name)$is.array   --done!
- implement: ".get\_gdsdata\_non1D_array", extract >=2 dimensional array data
  - implenentation. -- done!
  - modify: (makeSEFromGDS:showAvailable()$name   -- todo...

- modify: ".get\_gdsdata\_dim", 
  - return NULL for non-array gds nodes. -- done!
  - return objdesp$dim for all array gds nodes. (.get\_gdsdata\_isrray == TRUE) -- done!

- modify: ".get\_gdsdata\_dimnames", check ".get\_gdsdata\_dim".  -- done!
  - if is.null(dim), return NULL (for non-array gds nodes.) 
  - if any(dim == 0), return NULL.

- modify: ".read\_gdsdata\_first_val", check ".get\_gdsdata\_dim".  -- done!
  - if is.null(dim), return NULL (for non-array data, e.g., Folder, VFolder...). 
  - if any(dim == 0), return NULL (for 0-dim nodes, e.g., file, "phase/extra", "phase/extra.index", "genotype/extra"...) 

- modify: "GDSArraySeed()" constructor. check ".get\_gdsdata\_dim".   -- done!
  - if is.null(dim), wmsg("Not a valid gds node for constructing GDSArray")
  - if any(dim == 0), wmsg("The dimension of gds node is: ", ", which cound not construct GDSArray")

- modify "GDSFile$" method, return subnodes for gds folders? e.g., description???
- "gdsnodes(file)", returns all nodes, including folder nodes. 
  - only return gdsnodes that are not TRUE in ".get\_gdsdata\_isarray". 


- "phase/extra", "genotype/extra", objdesp.gdsn()$dim==0, $type="Integer". 
  - ".get\_gdsdata\_dim"
  - ".get\_gdsdata\_first_val". if dim==0, then read type, and return type(0) (like integer(0), ...)
  - "extract_array", accomodate index=NULL?
> gf$description
Error in readex.gdsn(index.gdsn(f, node), sel = as.list(rep(1, length(dims)))) : 
  There is no data field.
> gf$variant.id
<1348> GDSArray object of type "integer":
Error in dimnames(x) <- value : 'dimnames' applied to non-array
gf$phase$~data
Error: unexpected '~' in "gf$phase$~"
> gf$phase$extra.index
Error in GDSArraySeed(file, name) : 
  the lengths of dimnamesis not consistent with data dimensions.
gf$phase$extra
Error in readex.gdsn(index.gdsn(f, node), sel = as.list(rep(1, length(dims)))) : 
  Invalid index in 'sel[[1]]'
> gf$phase$extra   objdesp.gdsn(index.gdsn(f, "phase/extra"))$dim == 0
Error in readex.gdsn(index.gdsn(f, node), sel = as.list(rep(1, length(dims)))) : 
  Invalid index in 'sel[[1]]'
> gf$genotype$data  -- correct!
> gf$phase$data   -- correct!


3/13/2018

- RSamtools, filepath, show, width. --- to do...

- gdsNodes as method for GDSlight / GDS file path.   -- done!
- accessors for GDSFile. gdsfile(), not for "current_path" -- done. 
- GDSArray constructor, remove GDSlight input. -- done! 
- $ check if exist, fail if not.   -- done!
- update vignette. -- done!
